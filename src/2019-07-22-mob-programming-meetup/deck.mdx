import { Head, Image, Notes } from 'mdx-deck'
import { Invert } from 'mdx-deck/layouts'
export { default as theme } from '../theme'

<Head>
  <title>モブを高速で改善し（若干）倦怠している話</title>
</Head>

# モブを高速で改善し<br /><small>（若干）倦怠している話</small>

[2019-07-22 モブプログラミング Meetup](https://connpass.com/event/138267/)

@tkdn

---
![](https://s.gravatar.com/avatar/365c5067d0c90ef80e3c35d83ed811a3?s=100)

# Who
```js
  {
    "name"  : "武田 諭 / Satoshi Takeda",
    "from"  : "株式会社 mediba",
    "dept"  : "ものづくり推進部",
    "job"   : "Front-End web developer / Architect",
    "social": "tkdn",
    "love"  : "family, alcohol, improving DX",
    "career": {
      "2003-2013" : "Actor",
      "2013-"     : "Developer"
    }
  }
```

---
![](https://i.gyazo.com/5609e998117d1ce32f1d8245bfe6a8dc.png)

スニッカーズの CM

---
## 開発にモブプロを取り入れて
- やり始めたのは今年4月後半くらいから
- まだモブ歴 3 ヶ月程度

<Notes>
この短い間の高速に改善したお話をする<br />
モブプロ含んだモブワークの話です。
</Notes>

---
# アジェンダ

1. :two_men_holding_hands: <b>どういうチームなのか</b>
1. :question: <b>なぜモブプロをはじめたか</b>  
1. :recycle: <b>どうモブプロを改善したか</b>  
1. :thinking_face: <b>いまモブプロで何を悩んでるか</b>

---
<Image src="https://i.gyazo.com/14055db313f75606a2e58e7780a68bdd.png" style={{
  display: 'flex',
  justifyContent: 'center',
  alignItems: 'center',
}}>

# 1. どういうチームなのか

</Image>
---
## チーム構成
![](https://i.gyazo.com/3cca52fb7825377c2fdb55f4fde7178f.png)

参考: [フロントエンドの取り組み](https://tkdn.github.io/slides/2019-04-17-frontend-learn-and-delegation/#0)

<Notes>
フロントエンドエンジニアがやけに多いように感じますが、<br />
PHP からフロントエンドのスタックに寄せたリニューアルをして<br />
PHP アプリケーション部分を担当していた人たちも広義でフロントエンドエンジニアと言っています。
<br /><br />
なお、1つのプロジェクトでこれだけのデベロッパーを抱えているわけではない
</Notes>

---
<Image src="https://i.gyazo.com/14055db313f75606a2e58e7780a68bdd.png" style={{
  display: 'flex',
  justifyContent: 'center',
  alignItems: 'center',
}}>

# 2. なぜモブプロをはじめたか

</Image>

---
## なぜモブプロ？
- リニューアルプロジェクトでペアプロの成功体験
  - 初学者と習熟度が高いメンバーでのペアプロが功を奏した
- モブプロに同じ成功体験を夢見てしまった :thought_balloon:

<Notes>
"一緒に" 仕事をするという達成感、時折挟む Tech な雑談が良かったりする
</Notes>

---
## :two_men_holding_hands: モブプロしてみよう
- TypeScript + jest の単体テストをやるタイミング
  - まだ実践できる人数が少なく学びになる良い機会かも！


- **もしかしたら全員でやったほうが "効率" がいいのでは？**

<Notes>
効率という浅はかな考え。ここでの全員はさきほどのチームをまたいでフロントエンド9名。
やってみて合わなかったらすぐやめようくらいなライトなノリだった。

ここの時点での Bad Smell

- ペアプロがうまかったのでモブプロもうまいはずという浅はかさ
- 2人でやるより全員でやれば **"効率"** がいいはずという浅はかさ

</Notes>

---
## はじめてみる
<img src="https://i.gyazo.com/bd549f4c76d9742d09ce9c462f9d929e.png" style={{width:"80vh"}} />

- blogged: [モブプログラミングはじめました](https://ceblog.mediba.jp/post/184870366542/%E3%83%A2%E3%83%96%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%AF%E3%81%98%E3%82%81%E3%81%BE%E3%81%97%E3%81%9F)

<Notes>
これから話すいくつかはブログでもまとめていたりします。
</Notes>

---
## 初手どう取り組んだか :triumph:
知見はないのでかなり荒っぽい

- What: テストアフターの単体テスト
- How long: 全作業時間 1.5 時間
- Who: FE 9名、うちドライバー2名が交代制で他がナビゲーター
- Where: 会議室
- How: VSCode LiveShare で共有
  - 全員自分の端末でもコードが触れる状態
  - => 全員端末を開いている状態

---
## これでどうなったか
- :pensive: 全然進捗が出ておらず気分が落ちる
- :collision: 議論が発散し bikeshed discussion になる
- :no_mouth: 分からないことを質問していいか迷う
- :skull: 座席の配置により首が痛い
- :weary: ぶっ続けでやるのでくたびれる

<Notes>

- 進捗: この人数でこの成果しか上がっていない
- bikeshed: テストケース名だけで場の空気が淀む
- 迷う: 発言する人・しない人が固定される
- 場所: 対面式の会議室でモニターが正面にない. あとあと試しながら気付くが体勢や場所などが大事
- ぶっ続け: 適宜休憩が必要そう

</Notes>

---
## 湧いてくる罪悪感

- 効率が良いのだろうか…生産性が高いのだろうか…
  - これだけの人数と時間を作ってしまい贅沢すぎはしないか
- メンバーのためになっているだろうか…
  - スキルの底上げのためと思っていたのにうまくいってない感

---
<Image src="https://i.gyazo.com/54ca6621fbfca412b908f2bf08106f3a.png" style={{
  display: 'flex',
  justifyContent: 'center',
  alignItems: 'center',
}}>

# 3. どうモブプロを改善したか

</Image>

---
## 高速で改善
- 感想・意見などメンバーからフィードバックをもらい次に生かす
- モブをやるメリットが得られるまで少しずつ何度でも変えてみる
- これを何度も繰り返す

![](https://i.gyazo.com/8640972633c51bacfca4c17206e07032.png)

<Notes>
誰かがモブをボブと言い出したので爆誕したデコ文字
</Notes>

---
## :chart_with_upwards_trend: FBからすぐ改善したこと
- 進捗への心理的負担を軽減できるよう、3, 4人の少人数
- 議論が発散しないよう、今日やるゴールを設定し目標を意識
- 物理的に疲れないよう、正面にモニターをおけるフリースペース
- 時間は3時間にし 25分/5分 のポモドーロ

<Notes>

- 進捗不安: 話さなくなる人は出てこないちょうどいい人数感
- 物理的疲れ: これがめちゃくちゃ大事、今はゆったり座れるソファ、大きなモニターがベスト（できれば個室）
- 時間: 集中力は人それぞれ。間は取れないので強制的にぶった切る, ドライバーは 1ポモ毎に交代しドライバー以外は端末を閉じる

一度午前から夕会までずっとモブしたが体力の消耗が激しかった.
今は午前ソロタスク、午後モブ枠を作ってサイクルを回している

</Notes>

---
## それでも気になる… :thinking_face: 生産性・効率

<Notes>

- モブ導入前のベロシティとあまり変わってないようだ by スクラムマスター
- レビューや合意をその場で得ている納得感

</Notes>

---
## 改善しながら継続すると実務は…
- モブ中、Slack をほとんど見なくなる・他のことをやっていない
  - 全員の目的が統一されている


- 属人化しがちなタスクが引き剥がされる
  - インフラエンジニアに依存した Terraform など（勉強会含む）
  - Ops 周り・監視アラート対応・既存仕様の理解
  - なかなか手が伸びないタスクもみんなでやれば怖くないの精神

---
## 改善しながら継続するとチームは…
- モブが習慣化すると何でも聞く・話すようになる
  - **モブ以外でもよく聞きよく話す**
  - モブで何でも言える空気が整っていれば普段も話しやすい


- 休憩も別の話題で話し込む
  - 特に Tech な話題になるとみんな食いつきがいい


- ランチにみんなで行くようになる
  - モブ終わりにそのままランチみたいな流れ

---
<Image src="https://i.gyazo.com/415d8967f4974d1e0c42dabbf08d5a27.png" style={{
  display: 'flex',
  justifyContent: 'center',
  alignItems: 'center',
}}>

# 4. いまモブプロで何を悩んでるか

</Image>

---
## 倦怠期に入ってきている気がする :thinking_face:

<Notes>

- ある程度フォーマットが決まってきて改善スピードが緩まったから？

</Notes>

---
## 何がそうさせてるんだろう :thinking_face:
- ちょっとしたルールの徹底がおざなり
- モブすることがごく当たり前になっていると日々の成果に一喜一憂
- モブ中で気付けないことに後で気付いてしまう

<Notes>

- ルールの徹底: 自分の端末を閉じる・見ないが徹底されていない, ポモが崩れている, 憚らずにルールは言ったほうが良さそう
- 一喜一憂: 成果が上がらない場合モヤが晴れない感じ => 一人でも実は一緒で全員でそれを共有しているやーつ
- 気付けない: 考慮漏れにマージ後に気付いてしまったり、モブが全てにおいて優位性が高いわけではなさそう。感覚的にレビューをじっくりする機会がないことで生じていそう

</Notes>

---
<Invert>

- **まとめ**
  - モブワークは決まりがない、改善は何度やってもいい
  - 生産性や効率は気にしない
    - ソロでやっても実は変わらないよっていう強い気持ち
  - たまごが先かにわとりが先か、それはどっちでもいい

</Invert>

<Notes>

- たまごにわとり: チームビルドが先かモブが先かそれはどうでもよい, 成果はアウトプットでありそれによって生まれる結果でしかない, どうアプローチしても同じならまずはモブやってみてもいいかもしれない

</Notes>

---
<Invert>

- [赤羽京介 - 赤羽/つけ麺](https://tabelog.com/tokyo/A1323/A132305/13077988/)
- [麺屋 桐龍 （めんや きりゅう） - 戸塚安行/ラーメン](https://tabelog.com/saitama/A1102/A110201/11028693/)
- [つけ麺 えん寺 吉祥寺総本店 （つけめんえんじ） - 吉祥寺/つけ麺](https://tabelog.com/tokyo/A1320/A132001/13104794/)

</Invert>
