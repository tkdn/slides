import { Head, Image, Notes } from 'mdx-deck'
import themeMediba from '../themeMediba'

export const themes = [themeMediba]

import {
  SlideTitle,
  Profile,
  ProfileImage,
  ProfileList,
  TableAdjuster,
  SectionTitle,
  SizeL
} from "../components/jsconf"

<Head>
  <title>mediba &amp; JavaScript development（mediba におけるフロントエンド, JavaScript）</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet" />
</Head>

<SlideTitle>
  mediba &<br />JavaScript development
  <span>mediba におけるフロントエンド, JavaScript</span>
</SlideTitle>

[2019-11-30 JSConf JP](https://jsconf.jp/2019/)

---

## Satoshi Takeda

<Profile>
  <ProfileImage>
    <img src="https://en.gravatar.com/userimage/54409562/52da9c4eb0482498905e2a0c7c502549.jpg?size=240" />
  </ProfileImage>
  <ProfileList>


- :label: ものづくり推進部
  - KAIZEN for dev process
  - propagate KAIZEN-ed method
- :zap: Front-End Developer, Architect
- :name_badge: [@tkdn(s)](https://twitter.com/tkdn)


  </ProfileList>
</Profile>

<Notes>

- 開発部のセクションは事業の縦割りで存在、ものづくり推進部という開発プロセス伝播の部署に所属
- 肩書上アーキテクトという名前にになってるが設計、実装、運用、アーキテクチャ、何でもやるマン

</Notes>

---

<SectionTitle>

## About mediba

</SectionTitle>

---

## pronounced as "メディーバ"

<Notes>

- よく間違われるがメディバではなく、メディーバ

</Notes>

---

<TableAdjuster colWidth={"33.3%"}>

Established | Employees | Devs
---- | ---- | ---
2000-12-06 | 449 | 59

</TableAdjuster>

> KDDI 株式会社の auスマートパスを中心としたau関連サービス運営の他、幅広い分野でサービスを展開し、ユーザーがインターネットを通じて必要な時に必要な情報にアクセスできる環境づくりのためのサービスを提供しています。

<Notes>

- 社員数確認できればしておく
- 開発者数も確認できればしておく

</Notes>

---

<SectionTitle>

## Products

</SectionTitle>

---


<TableAdjuster colWidth={"33.3%"} headFontSize={"0.7em"}>

au SmartPass | au Web Portal | au Game
---- | ---- | ---
![](https://i.gyazo.com/bfeed7d47ee99b5f62f52703f8998e09.png) | ![](https://i.gyazo.com/281a6770c090a45c6ad3b35ef690ad94.png) | ![](https://i.gyazo.com/76edbb84cc0bb3ad77fc7121329ed8c7.png)
<small>for 15M au users</small> | <small>self-managed media</small> | <small>services that give au points</small>

</TableAdjuster>


<Notes>

- 1500万人というユーザを抱えるサービスである、au スマートパス
- au の冠はあっても自主運営となっているサービス、au Webポータル
- ユーザ資産であるポイントを扱いプラットフォームとして提供しているサービス、auゲーム

- 扱ってるプロダクトはこれだけではない、自社サービスなども開発している

</Notes>

---


<SectionTitle>

## Responsibility

</SectionTitle>

---

- :man-raising-hand: 1M ~ 15M "au" Users
- :collision:  High-Load, Heavy-Traffic
- :iphone: Various Devices (low spec ~ high spec)
- :green_heart: Users Assets (e.g. au WALLET point)

<Notes>

モバイルキャリアの看板を背負うプロダクトなのでそれ相応の責務がある

- 100万〜1500万というユーザ数
- 高負荷、高トラフィックをさばく必要がある
- 端末についても Android 2系など古いモバイル端末に向けた最適化を行う場合もある（あくまでそういうケースもあるという程度）
- ユーザの資産であるポイントなども取り扱うため非常にナイーブ

こういった責務を負っているので、扱うサービスの重要度と同時に求められるサービスレベルも高いです

</Notes>

---

<SectionTitle>

## Organization Structure

</SectionTitle>

---

<TableAdjuster colWidth={"50%"} headNone={true}>

none | none
---- | ----
![](https://i.gyazo.com/ed1a1492dad47d843e385ab8b0b38e56.png) | ![](https://i.gyazo.com/f1e2c89e647d0afe0b948836d3ad8d19.png)

</TableAdjuster>

<div style={{textAlign: "center"}}>

:point_right: [refer to Qiita](https://qiita.com/mdb-hijikata/items/21a09ae804232d3d1535)

</div>

<Notes>

- 弊社 au サービス開発部 部長 土方が書いた記事が参照云々
- Qiita で mediba と検索

</Notes>

---

<SectionTitle>

## Front-End, JavaScript ? 
at mediba

</SectionTitle>

<Notes>

といった内容がざっくりとした会社の説明で
じゃあフロントエンド、こと JavaScript はどうなんだという話

</Notes>

---

**2 years ago, right after I joined**

<div style={{fontSize: ".75em"}}>

- 2017, Front-End devs were using ES5 (almost).
- Only 1 person for Front-End dev on each project.
- No JavaScript files in project repository.
  - (...they were managed in another repository)
- Back-End devs didn’t care about FE’s deploy.
  - We needed to upload files before Back-End deploy.

</div>

<div style={{textAlign: "right", marginTop: "1em"}}>

**Issues are piled up :thinking_face:**

</div>

<Notes>

入社後すぐの話

- プロジェクトリポジトリにフロントエンドのソースファイルがなく別のリポジトリで管理されていたため、別の場所に移す必要があった
- 各プロジェクトには 1 名のフロントエンドがつく感じ
- Capistorano のようなデプロイツールにフロントエンドファイルの考慮はなく、事前に開発者が S3 バケットに上げておくスタイルだったので、サーバサイドのデプロイと統合したかった

課題が結構あったのですぐとりかかる必要があった

手つかずの自然みたいな感じ

</Notes>

---

## Need to Change :muscle:

We are gradually changing the code-base to be more Front-End friendly.

<Notes>

すぐ抜本的に変えるのは難しいため、少しずつ変えながら、

- React の導入検討
- リファクタや単体テスト、バンドラの導入
- 通常のデプロイフローへJSファイルのビルド追加

など、思いのある人たちが今できることや課題の解消などを継続し
徐々にフロントエンドの強い組織というものを志向し始めている最中です

</Notes>

---

<SectionTitle>

## 2019.03 New "au Web Portal" :sparkles:

Next.js with TypeScript, and GraphQL API

</SectionTitle>

<Notes>

いろんな経緯などは割愛するのですが

今年3月に大きなシステムリニューアルを行い、ひとつ形にすることができました。

看板事業である、au Webポータルをリニューアル。Next.js をフロントサーバにし、GraphQL API を BFF 層を持つ構成

</Notes>

---

<div style={{width: "100%", textAlign: "center", margin: "auto"}}>

![](https://i.gyazo.com/e2b8294048b8a86cb2e5860069c0e8b3.png)

[Speaker Deck](https://speakerdeck.com/tkdn/au-web-portal-frontend-bit-valley-inside-vol-dot-8)

</div>

<Notes>

TypeScript を共通言語にした新しいフロントエンドチームを組成する試み + 技術的な刷新というかなりいろいろ込み入ったリニューアル

</Notes>

---

### We re-structured the code-base and dev teams :twisted_rightwards_arrows:

<TableAdjuster colWidth={"50%"} headNone={true}>

From | To
---- | ----
![](https://i.gyazo.com/32dc4a8fefa457bd5fea4d30d4912ef3.png) | ![](https://i.gyazo.com/7bc97a1ccb5f86014f19912c36ae7bca.png)

</TableAdjuster>

<Notes>

サーバサイドの PHP フレームワーク Yii というものがシステムのベースにあったが
バッチ処理を Go で書き換え、データソースをつつく API は GraphQL へ
フロントサーバでは Next.js がリクエストをさばいて React で HTML をマークアップする

TypeScript ベースなので当然メンバーの学習から始めたので通常の運用と平行しながら
長期的に学習体制をひいてリニューアルに臨んだ

インフラも AWS へ移管されたり弊社では初めてコンテナで本番運用したり
プロジェクトとしてもかなりチャレンジングなプロジェクトになった

</Notes>

---

<SectionTitle>

## Next...?

Vue.js to an important product

</SectionTitle>

<Notes>

別のチームでは Vue.js を導入し始めています。

</Notes>

---

<div style={{width: "100%", textAlign: "center", margin: "auto"}}>

![](https://i.gyazo.com/5c227b29a7620825545ef4d1b0b0f207.png)


[Speaker Deck](https://speakerdeck.com/yamam00s/yuzashu-1500mo-ren-falsesabisuninuxtwodao-ru-sitexi-sikatutakoto)

</div>

<Notes>

Nuxt を使った別プロジェクトへの適用を進めていますが
先ほどの Next.js を使ったチームとは別のチーム

このスライドは SpeakerDeck に上がっていますが
Vue.js の勉強会等で内容が発表されています

取り扱いフレームワーク・ライブラリの違いなど統一するつもりは今のところない
というのも、フロントエンドの開発者を増員している真っ只中

このチームはフロントエンドの強化真っ最中で
以前は少なかったフロントエンド開発者も n 名

</Notes>

---

<div style={{width: "100%", textAlign: "center", margin: "auto"}}>

### And provide as a venue

<img src="https://koho.mediba.jp/wp-content/uploads/2019/10/business_vue.png" width="50%" />

<br />

<img src="https://koho.mediba.jp/wp-content/uploads/2019/10/roppongi_vue-.png" width="50%" />

</div>

<Notes>

- 現在 Vue.js のコミュニティのために会場を提供し勉強会の発表などに参加している最中
- Vue に限らず JavaScript 関連の勉強会会場として最寄りでご用命があればお声がけください

</Notes>

---

<SectionTitle>

## Next ...?

Make Front-End teams strong, so...

</SectionTitle>

---

# We're hiring!
:point_right: [Devs Job Description](https://hrmos.co/pages/mediba/jobs)

![](https://i.gyazo.com/0ad519e5f74699d53e2c330a6acfd813.png)

<Notes>

- 明日も引き続きブースでの参加を行っています、アンケートお答えいただくとノベルティがもらえるようになっているようなのでぜひお立ち寄りください
- カジュアルな面談でしたらいつでもやっています、興味ございましたらこの後直接でも明日のブースにでもお声がけください

</Notes>

---

<SectionTitle>

## Thank you.

</SectionTitle>
