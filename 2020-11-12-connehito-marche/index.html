<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<style>*{box-sizing:border-box}body{font-family:system-ui,sans-serif;margin:0}</style>
<meta name='generator' content='mdx-deck'>
<title data-head="true">フロントエンド、私的リリース戦略史</title>
</head>
<body>
<div id=root><div><div mode="NORMAL" step="0" width="100vw" height="100vh" color="text" class="Root-sc-14f5wl6-0 fnAhkW"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"/><div class="Carousel__CarouselRoot-sc-1sjk1xy-0 eIhpmh"><div class="Carousel__CarouselInner-sc-1sjk1xy-1 iJsiAg"><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">フロントエンド<br/>私的リリース戦略史</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><a href="https://connehito.connpass.com/event/193896/" color="link" class="components__a-mhn4yb-1 jwXwEb">【mediba社合同勉強会】<br/>コネヒトマルシェオンライン</a></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">@tkdn</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><img src="https://s.gravatar.com/avatar/365c5067d0c90ef80e3c35d83ed811a3?s=100" class="components__img-mhn4yb-9 bSIWSJ"/><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">whoami</h2><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em">  <span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#a6e22e">&quot;name&quot;</span>  <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;武田 諭&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;from&quot;</span>  <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;株式会社 mediba&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;job&quot;</span>   <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;フロントエンド開発者&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;social&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;tkdn&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;career&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#f8f8f2">{</span>
      <span class="token" style="color:#a6e22e">&quot;2003-2013&quot;</span> <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;役者&quot;</span><span class="token" style="color:#f8f8f2">,</span>
      <span class="token" style="color:#a6e22e">&quot;2013-&quot;</span>     <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;エンジニア&quot;</span>
    <span class="token" style="color:#f8f8f2">}</span>
  <span class="token" style="color:#f8f8f2">}</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><img src="https://i.gyazo.com/c863b32e5145a8c061d66d72198fefcd.jpg" height="240"/><img src="https://i.gyazo.com/e4aa5df7c24d5dc43bfb0560e97abe0d.png" height="240"/><img src="https://i.gyazo.com/b196524a4ee8ee913b5e48d390fdf4e1.png" height="240"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">[PR]<!-- --> 書籍紹介</h2><img src="https://i.gyazo.com/1469e2d8829039851bd83a58432accd0.png" class="components__img-mhn4yb-9 bSIWSJ"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">担当したのは Part 1 導入編, Part 3 応用編</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">[PR]<!-- --> 書籍紹介</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">特定技術よりも解決する課題を扱う</h3><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">フロントエンドを取り囲むエコシステムを浅く広く扱ってます</li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">例えば SSG（静的サイト生成）<br/><small>※ SSG は書籍で扱ってません</small></p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">DreamWeaver ⇢ Middleman ⇢ Next.js</li></ul></li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">解決している根本課題は同じ<br/>（周回毎に解決していることは微妙に違う</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">[PR]<!-- --> 書籍紹介</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">特定技術よりも解決する課題を扱う</h3><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">例）SSG 変遷</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">共通する解決したい課題は<br/>✅ <strong>画面を大量生成したい</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi"><del>[PR]<!-- -->書籍紹介</del> SSG 変遷：DreamWeaver</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Web 制作におけるページ量産を効率化</li><li class="components__li-mhn4yb-5 flYqAW">Adobe デザイン・マークアップフルセット</li></ul><img src="https://i.gyazo.com/de43a5ca5fb1a8fb4779df6933ae5036.png" class="components__img-mhn4yb-9 bSIWSJ"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">✅ <strong>手動で作るより<br/>テンプレートに合わせて<br/>画面を大量生成したい</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">SSG 変遷：Middleman, Jekyll, Hugo</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">世は SSG 戦国時代（だった（言語も多種多様</p><img src="https://i.gyazo.com/cb88f4b943c133b8834e36a21768e03d.png" height="320"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">✅ <strong>手動で作るより<br/>プログラマブルに<br/>画面を大量生成したい</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">SSG 変遷：Next.js, Gatsby, Nuxt</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">世は JavaScript 一強時代（バイアス</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">✅ <strong>フレームワーク（巨人）の肩の上で<br/>画面を大量生成したい</strong></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">フロントエンドに特化しているので<br/>パフォーマンス💯、開発体験💯</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">本題</h2></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">今日話すこと「リリースの話」</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">💡「フロントエンドのリリースどうしてますか」</li><li class="components__li-mhn4yb-5 flYqAW">💡「どういった戦略でデプロイにのぞみますか」</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">アジェンダ</h2><ol font-size="2" class="components__ol-mhn4yb-4 ccwqpw"><li class="components__li-mhn4yb-5 flYqAW">私的リリース史</li><li class="components__li-mhn4yb-5 flYqAW">リリース史観から戦略へ応用する</li><li class="components__li-mhn4yb-5 flYqAW">まとめ</li></ol></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">1.私的リリース史</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">私的リリース史</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">A. 静的ファイルがまとまっているパターン</li><li class="components__li-mhn4yb-5 flYqAW">B. バックエンド FW が中心のパターン</li><li class="components__li-mhn4yb-5 flYqAW">C. フロントエンド特化のパターン</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">私的リリース史 A</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">静的ファイルがまとまっているパターン</h3><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">200x-201x年初頭あたりの Web 制作・開発</li><li class="components__li-mhn4yb-5 flYqAW">Node.js を中心とした、ツールチェーン掛け合わせの爆発的増加</li><li class="components__li-mhn4yb-5 flYqAW">成果物は SFTP, SCP でアップロード <img src="https://i.gyazo.com/0b853a44f2088e917306e30505016a99.png" class="components__img-mhn4yb-9 bSIWSJ"/> <img src="https://i.gyazo.com/79f37d291a16b472952a88073441f168.png" class="components__img-mhn4yb-9 bSIWSJ"/></li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">💣 <strong>選択肢とデプロイが自由すぎる</strong><br/>
💣 <strong>マニュアル操作で不穏な匂いがする</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">私的リリース史 B</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">バックエンド FW が中心のパターン</h3><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">201x年中頃の Web 開発</li><li class="components__li-mhn4yb-5 flYqAW">FuelPHP、Laravel、Rails、Yii などの<br/>バックエンドFW</li><li class="components__li-mhn4yb-5 flYqAW">フロントエンドは控えめに載っかっている</li><li class="components__li-mhn4yb-5 flYqAW">バックエンドFWのテンプレートエンジン</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">私的リリース史 B</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">バックエンド FW が中心のデプロイ</h3><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">fabric, capistrano, deployer...</li><li class="components__li-mhn4yb-5 flYqAW">フロントエンドのソースは別でデプロイ</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">💣 <strong>フロントエンドが通常デプロイフローと区別される</strong><br/>
💣 <strong>画面に必要なアセットファイルの存在有無が未確定</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">私的リリース史 B</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">mediba ジョイン時のあるデプロイ</h3><img src="https://i.gyazo.com/b36ec6bdc4adf97a365126850b6cc438.png" height="560"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">私的リリース史 C</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">フロントエンド特化のパターン</h3><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">最近関わっている mediba のプロジェクト</li><li class="components__li-mhn4yb-5 flYqAW">Next.js SSR/SSG、React SPA</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">✅ <strong>フロントエンドに軸を置いているので<br/>フロントエンド中心のメリットを享受できる</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット１：Optimized Cache Busting</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">中間キャッシュをパージする画面サブリソースの参照 URL 変更</li></ul><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>link</span> <span class="token" style="color:#a6e22e">rel</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>stylesheet<span class="token" style="color:#f8f8f2">&quot;</span></span> <span class="token" style="color:#a6e22e">href</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>https://awsesome-app.com/css/style.css?cache=1604818365<span class="token" style="color:#f8f8f2">&quot;</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>script</span> <span class="token" style="color:#a6e22e">src</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>https://awsesome-app.com/js/app.js?cache=1604818365<span class="token" style="color:#f8f8f2">&quot;</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span><span class="token,script"></span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>script</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット１：Optimized Cache Busting</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">本当に大丈夫？ 雰囲気でパラメータつけてない？</li><li class="components__li-mhn4yb-5 flYqAW"><img src="https://i.gyazo.com/b31d703d3990ae0396d2bcb06814baf5.png" class="components__img-mhn4yb-9 bSIWSJ"/><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">e.g. Cloudfront query string forwarding</li></ul></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット１：Optimized Cache Busting</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">昨今のフロントエンド事情<br/>webpack でのコンパイルでフォローが可能</p><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:slategray">// webpack config...</span>
output<span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:slategray">// 生成されるファイルのダイジェスト値により変わる</span>
    filename<span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&#x27;[name].[contenthash].js&#x27;</span><span class="token" style="color:#f8f8f2">,</span>
    path<span class="token" style="color:#f8f8f2">:</span> path<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">resolve</span><span class="token" style="color:#f8f8f2">(</span>__dirname<span class="token" style="color:#f8f8f2">,</span> <span class="token" style="color:#a6e22e">&#x27;dist&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">,</span>
<span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span>
</code></pre><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>link</span> <span class="token" style="color:#a6e22e">rel</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>stylesheet<span class="token" style="color:#f8f8f2">&quot;</span></span> <span class="token" style="color:#a6e22e">href</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>https://awsesome-app.com/css/style.0cf28fbf.css<span class="token" style="color:#f8f8f2">&quot;</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>script</span> <span class="token" style="color:#a6e22e">src</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>https://awsesome-app.com/js/app.7847e54d.js<span class="token" style="color:#f8f8f2">&quot;</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span><span class="token,script"></span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>script</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット２：Long Term Caching</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">変更のないファイルはクライアントに中間キャッシュを提供</li><li class="components__li-mhn4yb-5 flYqAW">ムダな通信を発生させずキャッシュを最大限有効活用</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット２：Long Term Caching</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">例）Next.js リリース 1回目</h3><img src="https://i.gyazo.com/2ba519a2abeab989080a0302f5267325.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット２：Long Term Caching</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">例）Next.js リリース 2回目</h3><img src="https://i.gyazo.com/edc825e50e9deda9c63ae7100c375637.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット３：Valid Cache</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">メリット１：最適化されたキャッシュバスト</li><li class="components__li-mhn4yb-5 flYqAW">メリット２：長期的キャッシュ戦略</li><li class="components__li-mhn4yb-5 flYqAW">ゆえにアプリバージョン毎にユニーク</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">つまり？ </p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">リリース前後で参照するサブリソースが全く違うので<br/>ローリングアップデート中に不幸がない</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット３：Valid Cache</h2><img src="https://i.gyazo.com/747c2a3993b60c42de836c8f3a77f982.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット３：Valid Cache</h2><img src="https://i.gyazo.com/69371c1c801d582a53c5e9f6f2cb8dff.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">メリット３：Valid Cache</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">なんでそんなに気にするの？</h3><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">ユーザーに届いてからの体験は正直何が起こるか分からない</li></ul><blockquote font-size="2" color="quote" class="components__blockquote-mhn4yb-6 gXXEGL"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">実体験）<br/>半年前リリースした資材になぜかまだリクエストがある…<br/>
リプレイスしているのに前の API にリクエストがある（なんで…）</p></blockquote></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">C パターンのリリース戦略とはつまり…</p><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">🚸 ユーザーのためのキャッシュ戦略</h2></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">2.リリース史観から戦略へ応用する</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">2. リリース史観から戦略へ応用する</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">必ずしも C パターンだけではない<br/>💡 <strong>必ずしもフロントエンド特化ではない</strong></li><li class="components__li-mhn4yb-5 flYqAW">B だって全然ありえるパターン<br/>💡 <strong>バックエンドFW中心ということも全然ありえる</strong></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">再掲）mediba ジョイン時のあるデプロイ</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">👊 まずこの課題をクリアしたい</p><img src="https://i.gyazo.com/b36ec6bdc4adf97a365126850b6cc438.png" height="560"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">1.webpack のビルド時に manifest.json を作成</h2><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#a6e22e">&quot;/assets/css/app.css&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/assets/css/app.640bde4c.css&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;/assets/css/page-a.css&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/assets/css/page-a.201ed25f.css&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;/assets/css/page-b.css&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/assets/css/page-b.b1b57f9f.css&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;/assets/js/app.js&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/assets/js/app.39540668.js&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;/assets/js/page-a.js&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/assets/js/page-a.9bf31e12.js&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;/assets/js/page-b.js&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/assets/js/page-b.7b3b2b62.js&quot;</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">2.バックエンドで json を読み出す</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">まあいろいろやって読む。</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">3. json からパス生成するビューヘルパー実装</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">json ファイルキーから実パスを作成<br/>パスを参照した script タグを作る例（PHP</p><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:slategray">/**
 * @param string $url
 * @param array $attrs
 * @return HtmlString
 */</span>
<span class="token" style="color:#66d9ef">public</span> <span class="token" style="color:#66d9ef">static</span> <span class="token" style="color:#66d9ef">function</span> <span class="token" style="color:#e6db74">script</span><span class="token" style="color:#f8f8f2">(</span><span class="token,parameter">string $url<span class="token" style="color:#f8f8f2">,</span> array $attrs <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">]</span></span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span> HtmlString
<span class="token" style="color:#f8f8f2">{</span>
    $filepath <span class="token" style="color:#f8f8f2">=</span> self<span class="token" style="color:#f8f8f2">:</span><span class="token" style="color:#f8f8f2">:</span><span class="token" style="color:#e6db74">asset</span><span class="token" style="color:#f8f8f2">(</span>$url<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
    $attributes <span class="token" style="color:#f8f8f2">=</span> self<span class="token" style="color:#f8f8f2">:</span><span class="token" style="color:#f8f8f2">:</span><span class="token" style="color:#e6db74">attributes</span><span class="token" style="color:#f8f8f2">(</span>$attrs<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
    <span class="token" style="color:#66d9ef">return</span> <span class="token" style="color:#66d9ef">new</span> <span class="token,class-name">HtmlString</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">&#x27;&lt;script src=&quot;&#x27;</span> <span class="token" style="color:#f8f8f2">.</span> $filepath <span class="token" style="color:#f8f8f2">.</span> <span class="token" style="color:#a6e22e">&#x27;&quot; &#x27;</span> <span class="token" style="color:#f8f8f2">.</span> $attributes <span class="token" style="color:#f8f8f2">.</span> <span class="token" style="color:#a6e22e">&#x27;&gt;&lt;/script&gt;&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">4. テンプレートディレクティブ</h2><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em">// ... なんやかんや
@script(&quot;/assets/js/app.js&quot;)
<span class="token" style="color:slategray">&lt;!-- output: --&gt;</span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>script</span> <span class="token" style="color:#a6e22e">src</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>/assets/js/app.39540668.js<span class="token" style="color:#f8f8f2">&quot;</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span><span class="token,script"></span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>script</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>body</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>html</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><small>こんなことをしなくても</small><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">昨今のバックエンドフレームワークは<br/>準備が整っている</h2></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">例）Laravel 5.8</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">laravel new app</code></li><li class="components__li-mhn4yb-5 flYqAW">ルートに <code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">webpack.mix.js</code> がいる</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">webpack の小難しいところを<br/>隠蔽したラッパーパッケージ</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">最適化を戦略へ応用</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">1.webpack.mix.js</h3><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:#66d9ef">const</span> mix <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#e6db74">require</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">&#x27;laravel-mix&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
mix<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">js</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">&#x27;resources/js/app.js&#x27;</span><span class="token" style="color:#f8f8f2">,</span> <span class="token" style="color:#a6e22e">&#x27;public/js&#x27;</span><span class="token" style="color:#f8f8f2">)</span>
    <span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">sass</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">&#x27;resources/sass/app.scss&#x27;</span><span class="token" style="color:#f8f8f2">,</span> <span class="token" style="color:#a6e22e">&#x27;public/css&#x27;</span><span class="token" style="color:#f8f8f2">)</span>
    <span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">version</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span> <span class="token" style="color:slategray">// この行だけスキャッフォルド時点では入っていない</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">最適化を戦略へ応用</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">2.マニフェスト作成</h3><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">ビルドコマンドはすでに用意されている</p><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#a6e22e">&quot;/js/app.js&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/js/app.js?id=2f472fa1cb8208a4b3f4&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;/css/app.css&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;/css/app.css?id=99bb964c34fbf0372f70&quot;</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">最適化を戦略へ応用</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">3.テンプレートから利用</h3><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">mix は付属のヘルパー関数</p><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em"><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>link</span> <span class="token" style="color:#a6e22e">rel</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>stylesheet<span class="token" style="color:#f8f8f2">&quot;</span></span> <span class="token" style="color:#a6e22e">href</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>{{ mix(&#x27;css/app.css&#x27;) }}<span class="token" style="color:#f8f8f2">&quot;</span></span> <span class="token" style="color:#f8f8f2">/&gt;</span></span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>script</span> <span class="token" style="color:#a6e22e">src</span><span class="token" style="color:#e6db74"><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">&quot;</span>{{ mix(&#x27;js/app.js&#x27;) }}<span class="token" style="color:#f8f8f2">&quot;</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span><span class="token,script"></span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>script</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
</code></pre><img src="https://i.gyazo.com/99e01dd50642b90db3f660cc82acb560.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">例）Rails 6.0</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">rails new app</code></li><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">webpacker</code> がデフォルトで入っている</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">webpack の小難しいところを<br/>隠蔽したラッパーパッケージ</p><small>※ …と思ったが使い勝手に癖があって少し戸惑った</small></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">最適化を戦略へ応用</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">1.<code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">app/javascript/packs/</code> にファイル設置</h3><img src="https://i.gyazo.com/e2359d8e65f2dc8fafcc0ff272750c7b.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">最適化を戦略へ応用</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">2.マニフェスト生成</h3><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">ビルドコマンドはすでに用意されている</p><img src="https://i.gyazo.com/6cee186ddf18e810612b6f764e91b2a5.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">最適化を戦略へ応用</h2><h3 font-size="2" class="components__Heading-mhn4yb-0-h3 sc-cSHVUG jiBYDt">3.テンプレートへ記述</h3><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="font-size:0.8em">&lt;%= stylesheet_pack_tag &#x27;app&#x27; %&gt;
&lt;%= stylesheet_pack_tag &#x27;styles/another&#x27; %&gt;
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>head</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>body</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
    &lt;%= javascript_pack_tag &#x27;app&#x27; %&gt;
    &lt;%= javascript_pack_tag &#x27;scripts/another&#x27; %&gt;
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span>body</span><span class="token" style="color:#f8f8f2">&gt;</span></span>
</code></pre><img src="https://i.gyazo.com/7dd3e97eea839b3125430011ab5f2102.png" class="components__img-mhn4yb-9 bSIWSJ"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">実装サンプル</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><a href="https://github.com/tkdn/release-strategy-working" color="link" class="components__a-mhn4yb-1 jwXwEb">tkdn/release-strategy-working</a></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">2. リリース史観から戦略へ応用する</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">適切なリリース戦略実現のために<br/>バックエンドフレームワークとの協調で何が必要そうか？</p><ol font-size="2" class="components__ol-mhn4yb-4 ccwqpw"><li class="components__li-mhn4yb-5 flYqAW">フロントエンドのあるべき姿を共有</li><li class="components__li-mhn4yb-5 flYqAW">フロントエンドビルドパイプラインをデプロイフローへ合流させる</li><li class="components__li-mhn4yb-5 flYqAW">リリース・キャッシュ戦略はチームで考える</li></ol></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">3.まとめ</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">3.まとめ</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">昨今の JS フレームワークはフロントエンドに<br/>最適化されたリリース・キャッシュ戦略が込み</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">メリット１：Optimized Cache Busting</li><li class="components__li-mhn4yb-5 flYqAW">メリット２：Long Term Caching</li><li class="components__li-mhn4yb-5 flYqAW">メリット３：Valid Cache</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">3.まとめ</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">最適化されたフロントエンドの戦略を<br/>バックエンドフレームワークにも持ち込む場合</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">昨今のフレームワークは用意がある<br/>（なければ自作して）</li><li class="components__li-mhn4yb-5 flYqAW">開発チームの理解を得て<br/>リリースとフロントエンドビルドパイプラインを合流させよう</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">参考資料その1</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><a href="https://www.adobe.com/jp/devnet/dreamweaver/articles/using_template_part1.html" color="link" class="components__a-mhn4yb-1 jwXwEb">テンプレート機能を使ってみよう　パート1：「編集可能領域」と「オプション領域」の使い方 | デベロッパーセンター</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://jamstack.org/generators/" color="link" class="components__a-mhn4yb-1 jwXwEb">Static Site Generators - Top Open Source SSGs | Jamstack</a></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">参考資料その2</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><a href="https://webpack.js.org/guides/caching/" color="link" class="components__a-mhn4yb-1 jwXwEb">Caching | webpack</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://developers.google.com/speed/docs/insights/LeverageBrowserCaching" color="link" class="components__a-mhn4yb-1 jwXwEb">ブラウザのキャッシュを活用する  |  PageSpeed Insights  |  Google Developers</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://web.dev/http-cache/" color="link" class="components__a-mhn4yb-1 jwXwEb">Prevent unnecessary network requests with the HTTP Cache</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://jakearchibald.com/2016/caching-best-practices/" color="link" class="components__a-mhn4yb-1 jwXwEb">Caching best practices &amp; max-age gotchas - JakeArchibald.com</a></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">参考資料その3</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><a href="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/QueryStringParameters.html" color="link" class="components__a-mhn4yb-1 jwXwEb">クエリ文字列パラメータに基づくコンテンツのキャッシュ - Amazon CloudFront</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/user-guide/create-lifecycle.html" color="link" class="components__a-mhn4yb-1 jwXwEb">S3 バケットのライフサイクルポリシーを作成する方法 - Amazon Simple Storage Service</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://github.com/medz/webpack-laravel-mix-manifest" color="link" class="components__a-mhn4yb-1 jwXwEb">medz/webpack-laravel-mix-manifest: 🐶A webpack plugin that generates Laravel framework compatible mix-manifest.josn file.</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://github.com/JeffreyWay/laravel-mix" color="link" class="components__a-mhn4yb-1 jwXwEb">JeffreyWay/laravel-mix: The power of webpack, distilled for the rest of us.</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://github.com/rails/webpacker" color="link" class="components__a-mhn4yb-1 jwXwEb">rails/webpacker: Use Webpack to manage app-like JavaScript modules in Rails</a></li></ul></div></div></div></div></div></div><div class="Provider__Bottom-sc-1iqnegd-0 gUKKmP"><div class="Flex-sc-1wyx7c4-0 eYrBlB"><button title="go to: 0" color="text" class="Dots__Dot-m5ie3q-0 gtwBJe"></button><button title="go to: 1" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 2" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 3" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 4" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 5" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 6" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 7" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 8" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 9" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 10" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 11" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 12" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 13" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 14" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 15" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 16" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 17" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 18" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 19" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 20" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 21" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 22" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 23" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 24" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 25" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 26" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 27" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 28" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 29" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 30" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 31" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 32" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 33" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 34" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 35" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 36" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 37" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 38" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 39" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 40" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 41" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 42" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 43" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 44" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 45" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 46" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 47" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 48" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 49" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 50" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 51" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 52" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 53" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button></div></div><div role="button" title="Previous Slide" class="Provider__Button-sc-1iqnegd-1 sc-bdVaJa jucmbo"></div><div role="button" title="Next Slide" class="Provider__Button-sc-1iqnegd-1 sc-bwzfXH bENqf"></div></div>
<script src="main.js"></script>
</body>
</html>
