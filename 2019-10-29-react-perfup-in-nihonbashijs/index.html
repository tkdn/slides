<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<style>*{box-sizing:border-box}body{font-family:system-ui,sans-serif;margin:0}</style>
<meta name='generator' content='mdx-deck'>
<title data-head="true">React SSR, 定期計測とプロダクトに最適なパフォーマンスアプローチ</title>
</head>
<body>
<div id=root><div><div mode="NORMAL" step="0" width="100vw" height="100vh" color="text" class="Root-sc-14f5wl6-0 fnAhkW"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"/><div class="Carousel__CarouselRoot-sc-1sjk1xy-0 eIhpmh"><div class="Carousel__CarouselInner-sc-1sjk1xy-1 iJsiAg"><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">React SSR<br/>定期計測とプロダクトに最適な<br/>パフォーマンスアプローチ</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><a href="https://nihonbashi-js.connpass.com/event/143549/" color="link" class="components__a-mhn4yb-1 jwXwEb">2019-10-29 Nihonbashi.js #6</a></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">@tkdn</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><img src="https://s.gravatar.com/avatar/365c5067d0c90ef80e3c35d83ed811a3?s=100" class="components__img-mhn4yb-9 kaIwkl"/><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">Who</h2><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none">  <span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#a6e22e">&quot;name&quot;</span>  <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;武田 諭 / Satoshi Takeda&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;from&quot;</span>  <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;株式会社 mediba&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;job&quot;</span>   <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;Front-End web developer / Architect&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;social&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;tkdn&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:#a6e22e">&quot;career&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#f8f8f2">{</span>
      <span class="token" style="color:#a6e22e">&quot;2003-2013&quot;</span> <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;Actor&quot;</span><span class="token" style="color:#f8f8f2">,</span>
      <span class="token" style="color:#a6e22e">&quot;2013-&quot;</span>     <span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;Developer&quot;</span>
    <span class="token" style="color:#f8f8f2">}</span>
  <span class="token" style="color:#f8f8f2">}</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><img src="https://i.gyazo.com/7fd1fcf705ad1f28073cb95cc75361ba.png" width="600"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">昔おはスタに出てたので<br/>Wikipedia になぜか記載がある。<br/><small>※ そして名前の漢字が間違っている</small></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">出典: <a href="https://ja.wikipedia.org/wiki/%E3%81%8A%E3%81%AF%E3%82%B9%E3%82%BF" color="link" class="components__a-mhn4yb-1 jwXwEb">おはスタ - Wikipedia</a></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">今日話すこと</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">📦 プロダクト特性</li><li class="components__li-mhn4yb-5 flYqAW">⚡ なぜパフォーマンス改善を行うか</li><li class="components__li-mhn4yb-5 flYqAW">📈 どう計測していくか</li><li class="components__li-mhn4yb-5 flYqAW">💡 改善ポイントの追求とどう改善したか</li><li class="components__li-mhn4yb-5 flYqAW">✨ 検証し結果どうだったか</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">TL;DR</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><b>サードパーティスクリプトを多く抱える<br/>メディア系サイトでのクライアントサイド React 辛い</b></li><li class="components__li-mhn4yb-5 flYqAW"><b>perf up アプローチに失敗したが技術的には学びがあった</b></li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">という内容を供養しにきました。<br/><small>テキスト多めですが JS な話題も盛り込みます</small></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">📦 プロダクト特性</h2></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">某キャリアユーザ向けポータルサイト</li><li class="components__li-mhn4yb-5 flYqAW">ユーザ層: キャリアユーザ<br/>そこまでリテラシーは高くない</li><li class="components__li-mhn4yb-5 flYqAW">収益が広告収入によるもの</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">プロダクトで採用している技術</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">参考</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><a href="https://tkdn.github.io/slides/2019-04-17-frontend-learn-and-delegation/#0" color="link" class="components__a-mhn4yb-1 jwXwEb">mediba におけるフロントエンドの取り組み</a></li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://tkdn.github.io/slides/2019-06-26-nextjs-and-typescript/#0" color="link" class="components__a-mhn4yb-1 jwXwEb">Next.js / TypeScript でリニューアル・運用におけるハマりどころ</a></li></ul></li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">かいつまんで</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">ServerSide: Next.js(React SSR)</li><li class="components__li-mhn4yb-5 flYqAW">ClientSide: jQuery, Backbone.js</li></ul></li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">歪な状態 🤔</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">⚡ なぜパフォーマンス改善を行うか</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">クライアントで<br/>React が動いていない経緯</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">収益の問題</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">React と広告のサードパーティスクリプトの棲み分けが難しい</li></ul></li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">そのままでもいいのでは？</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">歪を解消しないと技術的負債を抱えたままになる</li><li class="components__li-mhn4yb-5 flYqAW">プロダクトの技術的戦略が弱くなる<br/><small>※ 組織の採用戦略としても weak point になりうる</small></li></ul></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">📈 どう計測していくか</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">定期計測の方法</h2><img src="https://i.gyazo.com/3d5df9910ec4b1727e6d664b405315d4.png" class="components__img-mhn4yb-9 kaIwkl"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">参考: <a href="https://ceblog.mediba.jp/post/186341145447/webperf-measuring-with-lighthouse-and-datadog" color="link" class="components__a-mhn4yb-1 jwXwEb">Datadog と Lighthouse を利用した WebPerf の継続的計測</a></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">計測するメトリクス</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><strong>TTI</strong></p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">アプリケーション成立しユーザが画面操作可能になるタイミング</li></ul></li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><strong>初期表示に必要な広告のロードタイミング</strong></p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">よくあるサードパーティスクリプトの所作<br/>スクリプトが iframe を生成しその iframe 内でさらに iframe を生成</li></ul></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">FYI: Puppeteer</h2><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// 画面内の iframe の navigated なタイミングを取得</span>
page<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">on</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">&quot;framenavigated&quot;</span><span class="token" style="color:#f8f8f2">,</span> <span class="token,parameter">frame</span> <span class="token" style="color:#f8f8f2">=&gt;</span> console<span class="token" style="color:#f8f8f2">.</span>log<span class="token" style="color:#f8f8f2">)</span>

<span class="token" style="color:slategray">// デプロイ機構の変更による例外試験でアセットファイルに</span>
<span class="token" style="color:slategray">// 不正なステータスコードを含んでいないかチェック</span>
<span class="token" style="color:slategray">// これをローリングアップデート中に無限ループでテストする</span>
page<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">on</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">&quot;response&quot;</span><span class="token" style="color:#f8f8f2">,</span> <span class="token,parameter">response</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#66d9ef">const</span> url <span class="token" style="color:#f8f8f2">=</span> response<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">url</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#66d9ef">if</span> <span class="token" style="color:#f8f8f2">(</span>url<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">includes</span><span class="token" style="color:#f8f8f2">(</span><span class="token,template-string"><span class="token" style="color:#a6e22e">`</span><span class="token,interpolation"><span class="token,interpolation-punctuation" style="color:#f8f8f2">${</span>domain<span class="token,interpolation-punctuation" style="color:#f8f8f2">}</span></span><span class="token" style="color:#a6e22e">`</span></span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    statuses<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">push</span><span class="token" style="color:#f8f8f2">(</span>response<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">status</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
<span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
</code></pre><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">いろんなイベント取れるので<br/> API ドキュメントを読んでみるといいかもしれません</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">💡 改善ポイントの追求とどう改善したか</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">仮説と改善への道筋立て</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">なぜ収益が落ちたのか？</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">CTR/インプの低下 =&gt; 収益の落ち込み</li></ul></li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">ここから立てた仮説</p><ol font-size="2" class="components__ol-mhn4yb-4 ccwqpw"><li class="components__li-mhn4yb-5 flYqAW">アプリケーションとサードパーティスクリプトとの棲み分けを<br/>うまく行えればインプ数が向上するのでは？</li><li class="components__li-mhn4yb-5 flYqAW">ユーザ操作が可能になるタイミングを早めれば<br/>CTR が向上するのでは？</li></ol></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">どうパフォーマンス改善を筋道立てるか</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><b>アプリケーションの成立を早めて<br/>サードパーティスクリプトとの棲み分けを最適化する</b></p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">1: バンドルサイズの縮小</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">肥大したファイルのチャンク化</li><li class="components__li-mhn4yb-5 flYqAW">読み込み順の整理をする必要</li></ul></li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">2: 効果がありそうな<br/> Dynamic Imports, Progressive Hydration の実施</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><strong>効果ありそうな</strong>がミソ<br/><small>イメージだけで取り入れてみても…後述</small></li></ul></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">施策候補を列挙し優先度をつけた</h2><img src="https://i.gyazo.com/ab3d8601c11c6759e82a4226bb31ad6f.png" height="720"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">改善以前に…業務を優先し出来ていなかった</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Next.js v5 -&gt; v9</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">これだけでも十分にバンドルサイズが圧縮</li></ul></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">Next.js</h2><div style="float:left;margin-right:2em"><img src="https://i.gyazo.com/d6d34a98b4ed37a5e5ea11f125823c43.png" width="360"/></div><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">バンドルサイズ最適化や TTI 向上へのアプローチに熱心</li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Google Chrome Team のコミットメント</li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://www.youtube.com/watch?v=XD8UQeYm5Vk" color="link" class="components__a-mhn4yb-1 jwXwEb">Chrome ❤️ ⚛️ (no, really) - Nicole Sullivan - React Rally 2019 - YouTube</a></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">💡 バンドルサイズの縮小</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">lodash 依存のライブラリ削除</h1><img src="https://i.gyazo.com/f9ea01badd56b0e7137b0dd61a989733.png" class="components__img-mhn4yb-9 kaIwkl"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">redux/reducer 部分で state のアップデートに<br/>
lodash に依存していた updeep を置き換え<br/>
9kb ダイエット（小さなことからコツコツと）</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">{...state, someState: true}</code><br/>object spread で十分</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">Sentry のアップデート</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><img src="https://i.gyazo.com/fe727e649673af0345020190ced8a569.png" class="components__img-mhn4yb-9 kaIwkl"/></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">108kb ダイエット（けっこう大きなサイズ感）<br/>
サイズが大きいという issue : <a href="https://github.com/getsentry/sentry-javascript/issues/1552" color="link" class="components__a-mhn4yb-1 jwXwEb">@sentry/browser size · Issue #1552</a></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><strong>クライアントでは Sentry 自体を<br/>別バンドルにさせてアプリコードから除外したい<br/>とはいえ SSR 時には Sentry を含めたい</strong></p><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// next.config.js ≒ webpack.config.js</span>
<span class="token" style="color:slategray">// クライアントビルドでは @sentry/node</span>
<span class="token" style="color:slategray">// =&gt; 無を返すモジュールに差し替える</span>
<span class="token" style="color:#66d9ef">if</span> <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">!</span>isServer<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
  config<span class="token" style="color:#f8f8f2">.</span>resolve<span class="token" style="color:#f8f8f2">.</span>alias<span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#a6e22e">&quot;@sentry/node&quot;</span><span class="token" style="color:#f8f8f2">]</span> <span class="token" style="color:#f8f8f2">=</span>
    path<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">join</span><span class="token" style="color:#f8f8f2">(</span>__dirname<span class="token" style="color:#f8f8f2">,</span> <span class="token" style="color:#a6e22e">&quot;./dummy/_sentry&quot;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">無を返すモジュールを作成<br/><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">sentry.init(options)</code> されてもなにも処理しない</li><li class="components__li-mhn4yb-5 flYqAW">レポートする関数も<a href="https://www.npmjs.com/package/@sentry/minimal" color="link" class="components__a-mhn4yb-1 jwXwEb">@sentry/minimal</a>で置き換える</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><strong>これらだけ対応したのではなく<br/>詰められるサイズはどんどん詰めていった🔥</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">💡 TTI 上昇を目論んで<br/>効果がありそうな施策実施</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">⚡ Dynamic Import</h2><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// 書き味は Next 風味です</span>
<span class="token" style="color:#66d9ef">const</span> Header <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#e6db74">dynamic</span><span class="token" style="color:#f8f8f2">(</span>
  <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#66d9ef">import</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:slategray">/* webpackChunkName: &quot;Header&quot; */</span> <span class="token" style="color:#a6e22e">&quot;./Header&quot;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">const</span> Info <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#e6db74">dynamic</span><span class="token" style="color:#f8f8f2">(</span>
  <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#66d9ef">import</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:slategray">/* webpackChunkName: &quot;Info&quot; */</span> <span class="token" style="color:#a6e22e">&quot;./Info&quot;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">const</span> Search <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#e6db74">dynamic</span><span class="token" style="color:#f8f8f2">(</span>
  <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#66d9ef">import</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:slategray">/* webpackChunkName: &quot;Search&quot; */</span> <span class="token" style="color:#a6e22e">&quot;./Search&quot;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">const</span> Tabs <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#e6db74">dynamic</span><span class="token" style="color:#f8f8f2">(</span>
  <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#66d9ef">import</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:slategray">/* webpackChunkName: &quot;Tabs&quot; */</span> <span class="token" style="color:#a6e22e">&quot;./Tabs&quot;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">const</span> Panels <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#e6db74">dynamic</span><span class="token" style="color:#f8f8f2">(</span>
  <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#66d9ef">import</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:slategray">/* webpackChunkName: &quot;Panels&quot; */</span> <span class="token" style="color:#a6e22e">&quot;./Panels&quot;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">const</span> Footer <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#e6db74">dynamic</span><span class="token" style="color:#f8f8f2">(</span>
  <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#66d9ef">import</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:slategray">/* webpackChunkName: &quot;Footer&quot; */</span> <span class="token" style="color:#a6e22e">&quot;./Footer&quot;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
</code></pre><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">とにかくページのコンポーネントを分割しチャンク化</li><li class="components__li-mhn4yb-5 flYqAW">ファイルが分割されることで処理自体も分割される（であろう）</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">⚡ Progressive Hydration</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Google I/O 2019 で developit 先生の発表</p><img src="https://i.gyazo.com/6763a7b2c53ad362ed35a75fd7f347a2.png" class="components__img-mhn4yb-9 kaIwkl"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">参考URL: <a href="https://git.io/fjHSW" color="link" class="components__a-mhn4yb-1 jwXwEb">https://git.io/fjHSW</a></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">is 何？</h2><ol font-size="2" class="components__ol-mhn4yb-4 ccwqpw"><li class="components__li-mhn4yb-5 flYqAW">SSR は愚直に <code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">render</code></li><li class="components__li-mhn4yb-5 flYqAW">CSR で初回では不要なコンポーネントで<br/> <code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">shouldComponenUpdate</code> -&gt; <code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">false</code></li></ol><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// ref を持った空 div</span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span>div</span>
    <span class="token" style="color:#a6e22e">ref</span><span class="token,script,language-javascript"><span class="token,script-punctuation" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">{</span><span class="token,parameter">el</span> <span class="token" style="color:#f8f8f2">=&gt;</span> <span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>root <span class="token" style="color:#f8f8f2">=</span> el<span class="token" style="color:#f8f8f2">}</span></span>
    <span class="token" style="color:#a6e22e">dangerouslySetInnerHTML</span><span class="token,script,language-javascript"><span class="token,script-punctuation" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:#f8f8f2">{</span>__html<span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#a6e22e">&quot;&quot;</span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">}</span></span>
    <span class="token" style="color:#a6e22e">suppressHydrationWarning</span>
<span class="token" style="color:#f8f8f2">/&gt;</span></span>
</code></pre><ol start="3" font-size="2" class="components__ol-mhn4yb-4 ccwqpw"><li class="components__li-mhn4yb-5 flYqAW">必要になった時に 2 で描画した空 div に<br/> <code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">ReactDOM.hydrate</code> でマウント</li></ol><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">先ほどの <code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">ref</code> を持った要素に新たな仮想 DOM をマウントさせる</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">使ってみての注意点</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">別のマウントポイントができるため…</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">redux を利用しているなら hydrate 時点の redux state を注入する必要がある</li><li class="components__li-mhn4yb-5 flYqAW">context を利用しているならコンテキストを注入する必要がある</li></ul><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// rehydrate するコンポーネント</span>
<span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span><span class="token,class-name">SomeContextProvider</span></span> <span class="token" style="color:#a6e22e">value</span><span class="token,script,language-javascript"><span class="token,script-punctuation" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">{</span>value<span class="token" style="color:#f8f8f2">}</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span><span class="token,plain-text">
    </span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;</span><span class="token,class-name">Provider</span></span> <span class="token" style="color:#a6e22e">store</span><span class="token,script,language-javascript"><span class="token,script-punctuation" style="color:#f8f8f2">=</span><span class="token" style="color:#f8f8f2">{</span>window<span class="token" style="color:#f8f8f2">.</span>__REDUX_STATE__<span class="token" style="color:#f8f8f2">}</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span><span class="token,plain-text">
        </span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:slategray">/** children */</span><span class="token" style="color:#f8f8f2">}</span><span class="token,plain-text">
    </span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span><span class="token,class-name">Provider</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span><span class="token,plain-text">
</span><span class="token" style="color:#f92672"><span class="token" style="color:#f92672"><span class="token" style="color:#f8f8f2">&lt;/</span><span class="token,class-name">SomeContextProvider</span></span><span class="token" style="color:#f8f8f2">&gt;</span></span>
</code></pre><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">シンプルな構成なら大丈夫だが結構面倒くさい</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">FIY</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">React Conf で Concurrent Mode への注目が大きいが</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">ReactDOM.scheduleHydration</code> も用意され始めています</li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://github.com/facebook/react/pull/17004" color="link" class="components__a-mhn4yb-1 jwXwEb">[Selective Hydration] ReactDOM.unstable_scheduleHydration(domNode) by sebmarkbage · Pull Request #17004 · facebook/react</a></li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">hacky じゃないやり方で公式でサポートしてくれるなら嬉しいかも。</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">✨ 検証し結果どうだったか</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">Optimize を利用した AB テストで検証</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">収益効果を図るために別広告などを払い出し</li><li class="components__li-mhn4yb-5 flYqAW">リダイレクトの辛さ、白画面のラグ<br/> クライアントでのリダイレクトテスト</li><li class="components__li-mhn4yb-5 flYqAW">提供する端末スペックによっては白画面が長い… 🤔</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">収益上は？</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">まだ分析途中ではあるものの</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">React 面がインプ数がいい（らしい）</li><li class="components__li-mhn4yb-5 flYqAW">CTR は相変わらず上がらない</li><li class="components__li-mhn4yb-5 flYqAW">収益面で切り替えるメリットがそんなに多くはなさそう 👿 </li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">パフォーマンス数値は？</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><strong>バンドルサイズの縮小</strong></p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">ネットワークのウォーターフォールを見る限り狙い通り</li><li class="components__li-mhn4yb-5 flYqAW">ただ目に見えて数値が向上したという点は<br/>計測数値から得られる値から有意差が見づらい</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">TTI 上昇を目論んだ結果…？</h2><img src="https://i.gyazo.com/4d9d0e4acea41a99e22fee0cb257a5af.png" class="components__img-mhn4yb-9 kaIwkl"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><strong>有意差がほとんどない…！</strong><br/><small>※ これはあくまでこのプロダクトでの話です</small></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">DevTools パフォーマンスタブ</h2><div class="components__TableRoot-mhn4yb-10 iXfUtE"><table class="components__Table-mhn4yb-11 lnSdqP"><thead><tr><th>Before</th><th>After</th></tr></thead><tbody><tr><td><img src="https://i.gyazo.com/46bfe3e8a0becb570de8e6d7869ba72a.png"/></td><td><img src="https://i.gyazo.com/6935941b172466734fb36a05e1b413f0.png"/></td></tr></tbody></table></div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">チャンク化したからってそんなに旨味があるものでもない</p><small>チャンク化したスクリプトのロードと評価はバラせても<br/>そのチャンクスクリプトを集約し実行するファイルは一つ</small><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">この辺のアプローチ詳しい方いたら<br/>懇親会で教えてほしい！</h2></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">悪いことだけではなかった</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">パフォーマンス数値上は jQuery+Backbone.js と遜色はない</li><li class="components__li-mhn4yb-5 flYqAW">アプリケーションコードとしては性能は担保できたはず</li><li class="components__li-mhn4yb-5 flYqAW">サードパーティスクリプトと棲み分けはまだまだ出来ていない</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">🤓 まとめ</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">バンドルサイズの圧縮</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">可能ならバンドルサイズバジェットを<br/>リリース前から意識すること</li><li class="components__li-mhn4yb-5 flYqAW">後でどこを詰めるかというのも悪くないが<br/>そもそもサイズが膨れる芽をを潰せる機構など</li></ul></li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">TTI の向上</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">perf up に最適であると見聞きしたものは<br/>実際に適用しないと効能がわからない</li><li class="components__li-mhn4yb-5 flYqAW"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">可能であれば施策ひとつひとつに<br/>効果測定をしたほうがいい</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">複数施策をまとめて計測すると<br/>どの施策が良いかわからなくなる</li></ul></li></ul></li></ul></div></div></div></div></div></div><div class="Provider__Bottom-sc-1iqnegd-0 gUKKmP"><div class="Flex-sc-1wyx7c4-0 eYrBlB"><button title="go to: 0" color="text" class="Dots__Dot-m5ie3q-0 gtwBJe"></button><button title="go to: 1" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 2" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 3" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 4" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 5" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 6" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 7" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 8" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 9" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 10" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 11" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 12" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 13" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 14" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 15" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 16" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 17" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 18" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 19" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 20" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 21" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 22" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 23" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 24" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 25" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 26" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 27" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 28" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 29" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 30" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 31" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 32" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 33" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 34" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 35" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 36" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 37" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 38" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 39" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button></div></div><div role="button" title="Previous Slide" class="Provider__Button-sc-1iqnegd-1 sc-bdVaJa jucmbo"></div><div role="button" title="Next Slide" class="Provider__Button-sc-1iqnegd-1 sc-bwzfXH bENqf"></div></div>
<script src="main.js"></script>
</body>
</html>
