<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<style>*{box-sizing:border-box}body{font-family:system-ui,sans-serif;margin:0}</style>
<meta name='generator' content='mdx-deck'>
<title data-head="true">フロントエンド全身ちぎれ節 支えなくて良い技術を支える技術</title><style data-styled-components="gRKTwr kmKUJZ gKaMTo zIEGn CAuLq cMCRYM kPOGYN byfFmt ejwTrN iLvMQI gmKbQu fJODMz kVSjcF iDlSQx hlsjWx cXgiMa eCoqJu hnohUl jlCnmb hOCGEu fbxTAJ bNhvRs">
/* sc-component-id: sc-dnqmqq */
.gRKTwr{font-family:"Roboto Condensed",system-ui,sans-serif;font-size:16px;text-align:center;width:100vw;height:100vh;color:#fff;background-color:#E1690D;} @media print{.gRKTwr{font-size:24px;height:auto;}} @media screen and (min-width:64em){.gRKTwr{font-size:32px;}}
/* sc-component-id: sc-bZQynM */
.kmKUJZ{overflow-x:hidden;width:100%;height:100%;} @media print{.kmKUJZ{height:auto;overflow-x:visible;}}
/* sc-component-id: sc-gzVnrw */
.gKaMTo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:100%;-webkit-transition-property:-webkit-transform;-webkit-transition-property:transform;transition-property:transform;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transform:translate3d(0%,0,0);-ms-transform:translate3d(0%,0,0);transform:translate3d(0%,0,0);} @media print{.gKaMTo{height:auto;display:block;}}
/* sc-component-id: sc-htoDjs */
.zIEGn{-webkit-flex:none;-ms-flex:none;flex:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;width:100%;height:100%;padding-left:32px;padding-right:32px;} @media print{.zIEGn{width:100vw;height:100vh;page-break-after:always;page-break-inside:avoid;-webkit-print-color-adjust:exact;}} @media screen and (min-width:40em){.zIEGn{padding-left:64px;padding-right:64px;}} @media screen and (min-width:52em){.zIEGn{padding-left:128px;padding-right:128px;}}
/* sc-component-id: sc-jzJRlG */
.cMCRYM{line-height:1.25;font-size:3em;margin-bottom:16px;margin-top:16px;color:heading;text-transform:uppercase;font-weight:700;}
/* sc-component-id: sc-kkGfuU */
.kPOGYN{font-size:1.5em;}
/* sc-component-id: sc-kAzzGY */
.ejwTrN{line-height:1.25;font-size:2em;margin-bottom:16px;margin-top:16px;color:heading;text-transform:uppercase;font-weight:700;}
/* sc-component-id: sc-iAyFgw */
.iLvMQI{text-align:left;font-size:1.5em;text-align:left;}
/* sc-component-id: sc-hSdWYo */
.fJODMz{text-align:left;font-size:1.5em;text-align:left;}
/* sc-component-id: sc-brqgnP */
.kVSjcF{font-family:"Roboto Mono",monospace;color:code;background-color:codeBackground;}
/* sc-component-id: sc-iRbamj */
.iDlSQx{width:100vw;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#E1690D;background-color:#fff;} .iDlSQx a{color:inherit;}
/* sc-component-id: sc-kEYyzF */
.hlsjWx{color:link;}
/* sc-component-id: sc-htpNat */
.cXgiMa{position:fixed;left:0;right:0;bottom:0;}
/* sc-component-id: sc-bdVaJa */
.eCoqJu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:8px;margin-left:auto;margin-right:auto;} @media print{.eCoqJu{display:none;}}
/* sc-component-id: sc-bwzfXH */
.hnohUl{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:4px solid transparent;background-clip:padding-box;border-radius:9999px;width:8px;height:8px;color:inherit;opacity:0.5;margin:0px;padding:4px;color:#fff;background-color:#fff;} .hnohUl:focus{outline:none;box-shadow:0 0 0 1px;}.jlCnmb{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:4px solid transparent;background-clip:padding-box;border-radius:9999px;width:8px;height:8px;color:inherit;opacity:0.125;margin:0px;padding:4px;color:#fff;background-color:#fff;} .jlCnmb:focus{outline:none;box-shadow:0 0 0 1px;}
/* sc-component-id: sc-ifAKCX */
.hOCGEu{position:fixed;top:0;left:0;bottom:0;}
/* sc-component-id: sc-bxivhb */
.fbxTAJ{cursor:pointer;width:64px;height:100vh;}
/* sc-component-id: sc-EHOje */
.bNhvRs{position:fixed;top:0;right:0;bottom:0;}</style>
</head>
<body>
<div id=root><div><div class="sc-dnqmqq gRKTwr" mode="NORMAL" step="0" width="100vw" height="100vh" color="text"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"/><div class="sc-bZQynM kmKUJZ"><div class="sc-gzVnrw gKaMTo"><div class="sc-htoDjs zIEGn"><div><h1 class="sc-cSHVUG CAuLq sc-jzJRlG cMCRYM" font-size="4" color="heading">フロントエンド<br/>全身ちぎれ節</h1><p class="sc-kkGfuU kPOGYN" font-size="2">支えなくて良い技術を支える技術</p><small>2018-12-12 BIT VALLEY -INSIDE- Vol.4</small></div></div><div class="sc-htoDjs zIEGn"><div><img src="https://s.gravatar.com/avatar/365c5067d0c90ef80e3c35d83ed811a3?s=120" width="96" align="left"/><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">Satoshi Takeda</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">@tkdn</li><li class="sc-eHgmQL gmKbQu">株式会社 mediba</li><li class="sc-eHgmQL gmKbQu">auパートナー本部 auサービス開発部</li><li class="sc-eHgmQL gmKbQu">フロントエンドエンジニア</li><li class="sc-eHgmQL gmKbQu"><strong>&quot;ブラウザが主戦場&quot;</strong></li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">本日話すこと</h2><ol class="sc-hSdWYo fJODMz" font-size="2"><li class="sc-eHgmQL gmKbQu">「支えなくて良い技術」とは</li><li class="sc-eHgmQL gmKbQu">支えなくて良い技術を支えていく技術</li></ol><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">🔧 how 1: webpack + Babel</li><li class="sc-eHgmQL gmKbQu">🔧 how 2: 不足しているネイティブ API</li><li class="sc-eHgmQL gmKbQu">🔧 how 3: OS固有バグとの付き合い方</li></ul><ol class="sc-hSdWYo fJODMz" start="3" font-size="2"><li class="sc-eHgmQL gmKbQu">まとめ・言いたいこと</li></ol></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">1. 「支えなくて良い技術」とは</h2><p class="sc-kkGfuU kPOGYN" font-size="2"><code class="sc-brqgnP kVSjcF" color="code">deprecated</code>, <code class="sc-brqgnP kVSjcF" color="code">obsoleted</code> な技術</p><br/><br/><p class="sc-kkGfuU kPOGYN" font-size="2">例えば</p></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading"><code class="sc-brqgnP kVSjcF" color="code">TLS 1.0/1.1</code> のサポート停止</h2><img src="https://i.gyazo.com/b4f666b50cd2970c2b3a1ddd7a05ea38.png" width="720"/></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">これによって対応出来なくなる<br/>ブラウザ OS ・ブラウザ</h2><img src="https://i.gyazo.com/19a2d9c257a2fe6221aaa2df5666d385.png" width="960"/><p class="sc-kkGfuU kPOGYN" font-size="2">Android 2.x - 4.x</p></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">弊社</h2><p class="sc-kkGfuU kPOGYN" font-size="2">大人の事情でまだまだ支えている</p></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">対応は辛い</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">🐛 端末やOS由来によるバグチケット</li><li class="sc-eHgmQL gmKbQu">🚧 かさむ工数</li><li class="sc-eHgmQL gmKbQu">😱 たまっていくカルマ</li><li class="sc-eHgmQL gmKbQu">⬇️ 開発体験 DX の悪化</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">このカルマを燃やすために<br/>エンジニアリングでなんとかする</h2></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">ゴール</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">レガシー端末をフォローしていくことに疲れない</li><li class="sc-eHgmQL gmKbQu">開発者が（ある程度）意識せずコーディング・オペレーションできる</li><li class="sc-eHgmQL gmKbQu">自動化できることは自動化し開発体験を良くしたい</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">how 1: webpack + Babel</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">webpack <br/> =&gt; モジュール解決のためのバンドラー</li><li class="sc-eHgmQL gmKbQu">Babel <br/> =&gt; ES2015~ の構文を解釈し ES5 相当に変換</li><li class="sc-eHgmQL gmKbQu">babel-preset-env <br/> =&gt; browserslist が提供する DSL に従い、サポートブラウザを記述する</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#a6e22e">&quot;browserslist&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#f8f8f2">[</span>
    <span class="token" style="color:slategray">// Android 2.1 以上に最適化</span>
    <span class="token" style="color:#a6e22e">&quot;Android &gt;= 2.1&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:slategray">// iOS 8 以上に最適化</span>
    <span class="token" style="color:#a6e22e">&quot;iOS &gt;= 8&quot;</span><span class="token" style="color:#f8f8f2">,</span>
  <span class="token" style="color:#f8f8f2">]</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre><p class="sc-kkGfuU kPOGYN" font-size="2">ターゲットブラウザに準じた変換が可能</p></div></div><div class="sc-htoDjs zIEGn"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#66d9ef">export</span>　<span class="token" style="color:#66d9ef">default</span> <span class="token" style="color:#66d9ef">class</span> <span class="token,class-name">Human</span> <span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#e6db74">constructor</span><span class="token" style="color:#f8f8f2">(</span>name<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name <span class="token" style="color:#f8f8f2">=</span> name <span class="token" style="color:#f8f8f2">||</span> <span class="token" style="color:#a6e22e">&quot;Tom&quot;</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
  <span class="token" style="color:#e6db74">eat</span><span class="token" style="color:#f8f8f2">(</span>food<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    console<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token,template-string"><span class="token" style="color:#a6e22e">`</span><span class="token,interpolation"><span class="token,interpolation-punctuation" style="color:#f8f8f2">${</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name<span class="token,interpolation-punctuation" style="color:#f8f8f2">}</span></span><span class="token" style="color:#a6e22e"> eats </span><span class="token,interpolation"><span class="token,interpolation-punctuation" style="color:#f8f8f2">${</span>food<span class="token,interpolation-punctuation" style="color:#f8f8f2">}</span></span><span class="token" style="color:#a6e22e">`</span></span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre><p class="sc-kkGfuU kPOGYN" font-size="2">こんなのが</p></div></div><div class="sc-htoDjs zIEGn"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none">exports<span class="token" style="color:#f8f8f2">.</span>__esModule <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">var</span> Human <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#66d9ef">function</span> <span class="token" style="color:#e6db74">Human</span><span class="token" style="color:#f8f8f2">(</span>name<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#e6db74">_classCallCheck</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">,</span> Human<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>

    <span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name <span class="token" style="color:#f8f8f2">=</span> name <span class="token" style="color:#f8f8f2">||</span> <span class="token" style="color:#a6e22e">&quot;Tom&quot;</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
  Human<span class="token" style="color:#f8f8f2">.</span>prototype<span class="token" style="color:#f8f8f2">.</span><span class="token,function-variable" style="color:#e6db74">eat</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#66d9ef">function</span> <span class="token" style="color:#e6db74">eat</span><span class="token" style="color:#f8f8f2">(</span>food<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    console<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#e6db74">String</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">+</span> <span class="token" style="color:#a6e22e">&quot; eats &quot;</span> <span class="token" style="color:#f8f8f2">+</span> <span class="token" style="color:#e6db74">String</span><span class="token" style="color:#f8f8f2">(</span>food<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#66d9ef">return</span> Human<span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
exports<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#66d9ef">default</span> <span class="token" style="color:#f8f8f2">=</span> Human<span class="token" style="color:#f8f8f2">;</span>
</code></pre></div></div><div class="sc-htoDjs zIEGn"><div><p class="sc-kkGfuU kPOGYN" font-size="2">だがしかし。</p><p class="sc-kkGfuU kPOGYN" font-size="2">このままでは<br/>Android 2 系, 4.0 系までフォローできない</p><p style="font-size:2em;visibility:hidden">ES5 相当の <br/>JavaScript ネイティブ API <br/>が不足している</p></div></div><div class="sc-htoDjs zIEGn"><div class="sc-iRbamj iDlSQx" color="background"><div><h1 class="sc-cSHVUG CAuLq sc-jzJRlG cMCRYM" font-size="4" color="heading">やってやろうじゃねえか</h1></div></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">how 2: 足りないネイティブ API を足す</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">ES5 相当のネイティブ API を埋める es5-shim <br/>を依存として追加しファイルにバンドルさせる</li><li class="sc-eHgmQL gmKbQu"><a class="sc-kEYyzF hlsjWx" href="https://github.com/es-shims/es5-shim" color="link">es-shims/es5-shim: ECMAScript 5 compatibility shims for legacy (and modern) JavaScript engines</a></li></ul></div></div><div class="sc-htoDjs zIEGn"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none">これでもう大丈夫やろ…(；´∀｀)
</code></pre></div></div><div class="sc-htoDjs zIEGn"><div><h1 class="sc-cSHVUG CAuLq sc-jzJRlG cMCRYM" font-size="4" color="heading">「一部の Android 2 系では <br/> ES3 相当の記述をしないと対応出来ない」</h1></div></div><div class="sc-htoDjs zIEGn"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none">まじかよ…(；´∀｀)
</code></pre></div></div><div class="sc-htoDjs zIEGn"><div><p class="sc-kkGfuU kPOGYN" font-size="2"><code class="sc-brqgnP kVSjcF" color="code">object</code> のプロパティが<br/>予約語となる場合エラーとなる...<code class="sc-brqgnP kVSjcF" color="code">etc</code></p><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// 下記の構文がエラーとなる</span>
<span class="token" style="color:#66d9ef">var</span> obj <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#f8f8f2">{</span> <span class="token" style="color:#66d9ef">class</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#ae81ff">true</span> <span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">var</span> obj<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#66d9ef">class</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:slategray">// こうしないとだめ</span>
<span class="token" style="color:#66d9ef">var</span> obj <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#f8f8f2">{</span> <span class="token" style="color:#a6e22e">&quot;class&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#ae81ff">true</span> <span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">var</span> obj<span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#a6e22e">&quot;class&quot;</span><span class="token" style="color:#f8f8f2">]</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
</code></pre></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">ES3 相当に書き換える必要がある</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu"><a class="sc-kEYyzF hlsjWx" href="https://github.com/sophiebits/es3ify/branches" color="link">Branches · sophiebits/es3ify</a></li><li class="sc-eHgmQL gmKbQu">最終的な生成ファイルをリビルドするスクリプトを書いた</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none">ファイルサイズ膨れ上がってきたんだが…(；´∀｀)
ここまでやったんならさすがにもう大丈夫やろ…(；´∀｀)
</code></pre></div></div><div class="sc-htoDjs zIEGn"><div><h1 class="sc-cSHVUG CAuLq sc-jzJRlG cMCRYM" font-size="4" color="heading">OS 固有のバグ</h1></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">OS 固有のバグ</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu"><code class="sc-brqgnP kVSjcF" color="code">Uncaught TypeError: Cannot assign to read only property &#x27;__esModule&#x27; of #&lt;Object&gt;</code></li><li class="sc-eHgmQL gmKbQu"><code class="sc-brqgnP kVSjcF" color="code">なにこれ…(；´∀｀)</code></li><li class="sc-eHgmQL gmKbQu">任意の構文からJavaScript オブジェクトへ直接的なプロパティ書き込みが出来ないというエラー内容</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><img src="https://i.gyazo.com/632928a90592b7cb31f9dadcbb4091a9.png" width="960"/><p class="sc-kkGfuU kPOGYN" font-size="2"><a class="sc-kEYyzF hlsjWx" href="https://bugs.chromium.org/p/v8/issues/detail?id=1530" color="link">1530 - Defining function&#x27;s &#x27;prototype&#x27; property with Object.defineProperty sets different value and makes property immutable - v8 - Monorail</a></p></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">出処</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">Android 4.0.x に搭載された JavaScript エンジン V8 のバグ起因</li><li class="sc-eHgmQL gmKbQu">V8 のバージョンまで特定は出来ないが、Android 4.0.3, 4.0.4 の標準ブラウザもしくは webview の V8 JavaScript エンジンではバグを持ったまま実装されている。なお 2.x 系ではバグは起きない</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">どうしたもんか 😩</h2></div></div><div class="sc-htoDjs zIEGn"><div><img src="https://i.gyazo.com/18d177700c25e822aa93858e94e64b62.png" width="860"/><p class="sc-kkGfuU kPOGYN" font-size="2">回避パッチで何とかなりそう</p></div></div><div class="sc-htoDjs zIEGn"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// Android 4.x support</span>
<span class="token" style="color:#66d9ef">var</span> defineProperty <span class="token" style="color:#f8f8f2">=</span> Object<span class="token" style="color:#f8f8f2">.</span>defineProperty<span class="token" style="color:#f8f8f2">;</span>
Object<span class="token" style="color:#f8f8f2">.</span><span class="token,function-variable" style="color:#e6db74">defineProperty</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#66d9ef">function</span> <span class="token" style="color:#f8f8f2">(</span>exports<span class="token" style="color:#f8f8f2">,</span> name<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#66d9ef">if</span> <span class="token" style="color:#f8f8f2">(</span>name <span class="token" style="color:#f8f8f2">===</span> <span class="token" style="color:#a6e22e">&#x27;__esModule&#x27;</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    exports<span class="token" style="color:#f8f8f2">[</span>name<span class="token" style="color:#f8f8f2">]</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
    <span class="token" style="color:#66d9ef">return</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
  <span class="token" style="color:#66d9ef">return</span> defineProperty<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">apply</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">,</span> arguments<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
</code></pre><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">パッチを差し込むプラグインを作った</li><li class="sc-eHgmQL gmKbQu">無事に動いた…</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">紹介しきれませんがでも他にも OS 固有のバグが多くあります…</li><li class="sc-eHgmQL gmKbQu">OS 固有バグは網羅すること自体が人智を越えているため、トライ&amp;エラーとナレッジの共有しかない</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">まとめ</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">ターゲットブラウザを明示し設定、意識せずコーディング</li><li class="sc-eHgmQL gmKbQu">不足した API は適宜 polyfill, shim を足し込んでフォロー</li><li class="sc-eHgmQL gmKbQu">OS 固有のバグは知見でしかない、ぶつからないと分からない</li></ul><p class="sc-kkGfuU kPOGYN" font-size="2"><strong>全身ちぎれて血まみれになりながらまとめた</strong></p></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">考えていくべきこと</h2><ul class="sc-iAyFgw iLvMQI" font-size="2"><li class="sc-eHgmQL gmKbQu">紹介したことはいずれ価値のなくなるハック</li><li class="sc-eHgmQL gmKbQu">ユーザがセキュアな環境で通信出来ない事自体をきちんと考える</li><li class="sc-eHgmQL gmKbQu">レガシー対応に引きずられてサービスグロースの足を引っ張らないと良い</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading"><del>支えなくて良い技術を支える</del></h2><br/><br/><h2 class="sc-chPdSV byfFmt sc-kAzzGY ejwTrN" font-size="3" color="heading">少なくともユーザがいる限りは<br/>フロントエンドの技術で支えきる</h2></div></div></div></div></div></div><div class="sc-htpNat cXgiMa"><div class="sc-bdVaJa eCoqJu"><button class="sc-bwzfXH hnohUl" title="go to: 0" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 1" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 2" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 3" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 4" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 5" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 6" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 7" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 8" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 9" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 10" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 11" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 12" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 13" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 14" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 15" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 16" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 17" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 18" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 19" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 20" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 21" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 22" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 23" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 24" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 25" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 26" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 27" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 28" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 29" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 30" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 31" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 32" color="text"></button><button class="sc-bwzfXH jlCnmb" title="go to: 33" color="text"></button></div></div><div class="sc-ifAKCX hOCGEu sc-bxivhb fbxTAJ" role="button" title="Previous Slide"></div><div class="sc-EHOje bNhvRs sc-bxivhb fbxTAJ" role="button" title="Next Slide"></div></div>
<script src="main.js"></script>
</body>
</html>
