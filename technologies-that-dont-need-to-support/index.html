<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<style>*{box-sizing:border-box}body{font-family:system-ui,sans-serif;margin:0}</style>
<meta name='generator' content='mdx-deck'>
<title data-head="true">フロントエンド全身ちぎれ節 支えなくて良い技術を支える技術</title>
</head>
<body>
<div id=root><div><div mode="NORMAL" step="0" width="100vw" height="100vh" color="text" class="Root-sc-14f5wl6-0 fnAhkW"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"/><div class="Carousel__CarouselRoot-sc-1sjk1xy-0 eIhpmh"><div class="Carousel__CarouselInner-sc-1sjk1xy-1 iJsiAg"><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">フロントエンド<br/>全身ちぎれ節</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">支えなくて良い技術を支える技術</p><small>2018-12-12 BIT VALLEY -INSIDE- Vol.4</small></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><img src="https://s.gravatar.com/avatar/365c5067d0c90ef80e3c35d83ed811a3?s=120" width="96" align="left"/><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">Satoshi Takeda</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">@tkdn</li><li class="components__li-mhn4yb-5 flYqAW">株式会社 mediba</li><li class="components__li-mhn4yb-5 flYqAW">auパートナー本部 auサービス開発部</li><li class="components__li-mhn4yb-5 flYqAW">フロントエンドエンジニア</li><li class="components__li-mhn4yb-5 flYqAW"><strong>&quot;ブラウザが主戦場&quot;</strong></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">本日話すこと</h2><ol font-size="2" class="components__ol-mhn4yb-4 ccwqpw"><li class="components__li-mhn4yb-5 flYqAW">「支えなくて良い技術」とは</li><li class="components__li-mhn4yb-5 flYqAW">支えなくて良い技術を支えていく技術</li></ol><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">🔧 how 1: webpack + Babel</li><li class="components__li-mhn4yb-5 flYqAW">🔧 how 2: 不足しているネイティブ API</li><li class="components__li-mhn4yb-5 flYqAW">🔧 how 3: OS固有バグとの付き合い方</li></ul><ol start="3" font-size="2" class="components__ol-mhn4yb-4 ccwqpw"><li class="components__li-mhn4yb-5 flYqAW">まとめ・言いたいこと</li></ol></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">1. 「支えなくて良い技術」とは</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">deprecated</code>, <code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">obsoleted</code> な技術</p><br/><br/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">例えば</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">TLS 1.0/1.1</code> のサポート停止</h2><img src="https://i.gyazo.com/b4f666b50cd2970c2b3a1ddd7a05ea38.png" width="720"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">これによって対応出来なくなる<br/>ブラウザ OS ・ブラウザ</h2><img src="https://i.gyazo.com/19a2d9c257a2fe6221aaa2df5666d385.png" width="960"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Android 2.x - 4.x</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">弊社</h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">大人の事情でまだまだ支えている</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">対応は辛い</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">🐛 端末やOS由来によるバグチケット</li><li class="components__li-mhn4yb-5 flYqAW">🚧 かさむ工数</li><li class="components__li-mhn4yb-5 flYqAW">😱 たまっていくカルマ</li><li class="components__li-mhn4yb-5 flYqAW">⬇️ 開発体験 DX の悪化</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">このカルマを燃やすために<br/>エンジニアリングでなんとかする</h2></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">ゴール</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">レガシー端末をフォローしていくことに疲れない</li><li class="components__li-mhn4yb-5 flYqAW">開発者が（ある程度）意識せずコーディング・オペレーションできる</li><li class="components__li-mhn4yb-5 flYqAW">自動化できることは自動化し開発体験を良くしたい</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">how 1: webpack + Babel</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">webpack <br/> =&gt; モジュール解決のためのバンドラー</li><li class="components__li-mhn4yb-5 flYqAW">Babel <br/> =&gt; ES2015~ の構文を解釈し ES5 相当に変換</li><li class="components__li-mhn4yb-5 flYqAW">babel-preset-env <br/> =&gt; browserslist が提供する DSL に従い、サポートブラウザを記述する</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#a6e22e">&quot;browserslist&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#f8f8f2">[</span>
    <span class="token" style="color:slategray">// Android 2.1 以上に最適化</span>
    <span class="token" style="color:#a6e22e">&quot;Android &gt;= 2.1&quot;</span><span class="token" style="color:#f8f8f2">,</span>
    <span class="token" style="color:slategray">// iOS 8 以上に最適化</span>
    <span class="token" style="color:#a6e22e">&quot;iOS &gt;= 8&quot;</span><span class="token" style="color:#f8f8f2">,</span>
  <span class="token" style="color:#f8f8f2">]</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">ターゲットブラウザに準じた変換が可能</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#66d9ef">export</span>　<span class="token" style="color:#66d9ef">default</span> <span class="token" style="color:#66d9ef">class</span> <span class="token,class-name">Human</span> <span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#e6db74">constructor</span><span class="token" style="color:#f8f8f2">(</span><span class="token,parameter">name</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name <span class="token" style="color:#f8f8f2">=</span> name <span class="token" style="color:#f8f8f2">||</span> <span class="token" style="color:#a6e22e">&quot;Tom&quot;</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
  <span class="token" style="color:#e6db74">eat</span><span class="token" style="color:#f8f8f2">(</span><span class="token,parameter">food</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    console<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token,template-string"><span class="token" style="color:#a6e22e">`</span><span class="token,interpolation"><span class="token,interpolation-punctuation" style="color:#f8f8f2">${</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name<span class="token,interpolation-punctuation" style="color:#f8f8f2">}</span></span><span class="token" style="color:#a6e22e"> eats </span><span class="token,interpolation"><span class="token,interpolation-punctuation" style="color:#f8f8f2">${</span>food<span class="token,interpolation-punctuation" style="color:#f8f8f2">}</span></span><span class="token" style="color:#a6e22e">`</span></span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
<span class="token" style="color:#f8f8f2">}</span>
</code></pre><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">こんなのが</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none">exports<span class="token" style="color:#f8f8f2">.</span>__esModule <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">var</span> Human <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#66d9ef">function</span> <span class="token" style="color:#e6db74">Human</span><span class="token" style="color:#f8f8f2">(</span><span class="token,parameter">name</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    <span class="token" style="color:#e6db74">_classCallCheck</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">,</span> Human<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>

    <span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name <span class="token" style="color:#f8f8f2">=</span> name <span class="token" style="color:#f8f8f2">||</span> <span class="token" style="color:#a6e22e">&quot;Tom&quot;</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
  <span class="token,class-name">Human</span><span class="token" style="color:#f8f8f2">.</span>prototype<span class="token" style="color:#f8f8f2">.</span><span class="token,function-variable" style="color:#e6db74">eat</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#66d9ef">function</span> <span class="token" style="color:#e6db74">eat</span><span class="token" style="color:#f8f8f2">(</span><span class="token,parameter">food</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    console<span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#e6db74">String</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">.</span>name<span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">+</span> <span class="token" style="color:#a6e22e">&quot; eats &quot;</span> <span class="token" style="color:#f8f8f2">+</span> <span class="token" style="color:#e6db74">String</span><span class="token" style="color:#f8f8f2">(</span>food<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#66d9ef">return</span> Human<span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
exports<span class="token" style="color:#f8f8f2">.</span>default <span class="token" style="color:#f8f8f2">=</span> Human<span class="token" style="color:#f8f8f2">;</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">だがしかし。</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">このままでは<br/>Android 2 系, 4.0 系までフォローできない</p><p style="font-size:2em;visibility:hidden">ES5 相当の <br/>JavaScript ネイティブ API <br/>が不足している</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div color="background" class="Invert-sc-1sax20x-0 elzAfJ"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">やってやろうじゃねえか</h1></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">how 2: 足りないネイティブ API を足す</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">ES5 相当のネイティブ API を埋める es5-shim <br/>を依存として追加しファイルにバンドルさせる</li><li class="components__li-mhn4yb-5 flYqAW"><a href="https://github.com/es-shims/es5-shim" color="link" class="components__a-mhn4yb-1 jwXwEb">es-shims/es5-shim: ECMAScript 5 compatibility shims for legacy (and modern) JavaScript engines</a></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#e6db74">これでもう大丈夫やろ…</span><span class="token" style="color:#f8f8f2">(</span>；´∀｀<span class="token" style="color:#f8f8f2">)</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">「一部の Android 2 系では <br/> ES3 相当の記述をしないと対応出来ない」</h1></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#e6db74">まじかよ…</span><span class="token" style="color:#f8f8f2">(</span>；´∀｀<span class="token" style="color:#f8f8f2">)</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">object</code> のプロパティが<br/>予約語となる場合エラーとなる...<code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">etc</code></p><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// 下記の構文がエラーとなる</span>
<span class="token" style="color:#66d9ef">var</span> obj <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#f8f8f2">{</span> <span class="token" style="color:#66d9ef">class</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#ae81ff">true</span> <span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">var</span> obj<span class="token" style="color:#f8f8f2">.</span>class <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:slategray">// こうしないとだめ</span>
<span class="token" style="color:#66d9ef">var</span> obj <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#f8f8f2">{</span> <span class="token" style="color:#a6e22e">&quot;class&quot;</span><span class="token" style="color:#f8f8f2">:</span> <span class="token" style="color:#ae81ff">true</span> <span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#66d9ef">var</span> obj<span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#a6e22e">&quot;class&quot;</span><span class="token" style="color:#f8f8f2">]</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">ES3 相当に書き換える必要がある</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><a href="https://github.com/sophiebits/es3ify/branches" color="link" class="components__a-mhn4yb-1 jwXwEb">Branches · sophiebits/es3ify</a></li><li class="components__li-mhn4yb-5 flYqAW">最終的な生成ファイルをリビルドするスクリプトを書いた</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#e6db74">ファイルサイズ膨れ上がってきたんだが…</span><span class="token" style="color:#f8f8f2">(</span>；´∀｀<span class="token" style="color:#f8f8f2">)</span>
<span class="token" style="color:#e6db74">ここまでやったんならさすがにもう大丈夫やろ…</span><span class="token" style="color:#f8f8f2">(</span>；´∀｀<span class="token" style="color:#f8f8f2">)</span>
</code></pre></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX hQKyKp">OS 固有のバグ</h1></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">OS 固有のバグ</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">Uncaught TypeError: Cannot assign to read only property &#x27;__esModule&#x27; of #&lt;Object&gt;</code></li><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 kOZDgu">なにこれ…(；´∀｀)</code></li><li class="components__li-mhn4yb-5 flYqAW">任意の構文からJavaScript オブジェクトへ直接的なプロパティ書き込みが出来ないというエラー内容</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><img src="https://i.gyazo.com/632928a90592b7cb31f9dadcbb4091a9.png" width="960"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><a href="https://bugs.chromium.org/p/v8/issues/detail?id=1530" color="link" class="components__a-mhn4yb-1 jwXwEb">1530 - Defining function&#x27;s &#x27;prototype&#x27; property with Object.defineProperty sets different value and makes property immutable - v8 - Monorail</a></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">出処</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Android 4.0.x に搭載された JavaScript エンジン V8 のバグ起因</li><li class="components__li-mhn4yb-5 flYqAW">V8 のバージョンまで特定は出来ないが、Android 4.0.3, 4.0.4 の標準ブラウザもしくは webview の V8 JavaScript エンジンではバグを持ったまま実装されている。なお 2.x 系ではバグは起きない</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">どうしたもんか 😩</h2></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><img src="https://i.gyazo.com/18d177700c25e822aa93858e94e64b62.png" width="860"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">回避パッチで何とかなりそう</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><pre style="color:#f8f8f2;background:#272822;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// Android 4.x support</span>
<span class="token" style="color:#66d9ef">var</span> defineProperty <span class="token" style="color:#f8f8f2">=</span> Object<span class="token" style="color:#f8f8f2">.</span>defineProperty<span class="token" style="color:#f8f8f2">;</span>
Object<span class="token" style="color:#f8f8f2">.</span><span class="token,function-variable" style="color:#e6db74">defineProperty</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#66d9ef">function</span> <span class="token" style="color:#f8f8f2">(</span><span class="token,parameter">exports<span class="token" style="color:#f8f8f2">,</span> name</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
  <span class="token" style="color:#66d9ef">if</span> <span class="token" style="color:#f8f8f2">(</span>name <span class="token" style="color:#f8f8f2">===</span> <span class="token" style="color:#a6e22e">&#x27;__esModule&#x27;</span><span class="token" style="color:#f8f8f2">)</span> <span class="token" style="color:#f8f8f2">{</span>
    exports<span class="token" style="color:#f8f8f2">[</span>name<span class="token" style="color:#f8f8f2">]</span> <span class="token" style="color:#f8f8f2">=</span> <span class="token" style="color:#ae81ff">true</span><span class="token" style="color:#f8f8f2">;</span>
    <span class="token" style="color:#66d9ef">return</span><span class="token" style="color:#f8f8f2">;</span>
  <span class="token" style="color:#f8f8f2">}</span>
  <span class="token" style="color:#66d9ef">return</span> <span class="token" style="color:#e6db74">defineProperty</span><span class="token" style="color:#f8f8f2">.</span><span class="token" style="color:#e6db74">apply</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#66d9ef">this</span><span class="token" style="color:#f8f8f2">,</span> arguments<span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span>
<span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">;</span>
</code></pre><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">パッチを差し込むプラグインを作った</li><li class="components__li-mhn4yb-5 flYqAW">無事に動いた…</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">紹介しきれませんがでも他にも OS 固有のバグが多くあります…</li><li class="components__li-mhn4yb-5 flYqAW">OS 固有バグは網羅すること自体が人智を越えているため、トライ&amp;エラーとナレッジの共有しかない</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">まとめ</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">ターゲットブラウザを明示し設定、意識せずコーディング</li><li class="components__li-mhn4yb-5 flYqAW">不足した API は適宜 polyfill, shim を足し込んでフォロー</li><li class="components__li-mhn4yb-5 flYqAW">OS 固有のバグは知見でしかない、ぶつからないと分からない</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><strong>全身ちぎれて血まみれになりながらまとめた</strong></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">考えていくべきこと</h2><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">紹介したことはいずれ価値のなくなるハック</li><li class="components__li-mhn4yb-5 flYqAW">ユーザがセキュアな環境で通信出来ない事自体をきちんと考える</li><li class="components__li-mhn4yb-5 flYqAW">レガシー対応に引きずられてサービスグロースの足を引っ張らないと良い</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 eyUBso"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi"><del>支えなくて良い技術を支える</del></h2><br/><br/><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG jECWBi">少なくともユーザがいる限りは<br/>フロントエンドの技術で支えきる</h2></div></div></div></div></div></div><div class="Provider__Bottom-sc-1iqnegd-0 gUKKmP"><div class="Flex-sc-1wyx7c4-0 eYrBlB"><button title="go to: 0" color="text" class="Dots__Dot-m5ie3q-0 gtwBJe"></button><button title="go to: 1" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 2" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 3" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 4" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 5" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 6" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 7" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 8" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 9" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 10" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 11" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 12" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 13" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 14" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 15" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 16" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 17" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 18" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 19" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 20" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 21" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 22" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 23" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 24" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 25" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 26" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 27" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 28" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 29" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 30" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 31" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 32" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button><button title="go to: 33" color="text" class="Dots__Dot-m5ie3q-0 ftJwNV"></button></div></div><div role="button" title="Previous Slide" class="Provider__Button-sc-1iqnegd-1 sc-bdVaJa jucmbo"></div><div role="button" title="Next Slide" class="Provider__Button-sc-1iqnegd-1 sc-bwzfXH bENqf"></div></div>
<script src="main.js"></script>
</body>
</html>
